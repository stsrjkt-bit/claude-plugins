/**
 * サンプルデータ：g1 化学工場の安全
 *
 * gd-data-builder スキルが生成すべき出力の模範例。
 * 三者択一型（pattern3）のサンプル。
 */

import type {
  GDTheme,
  KnowledgeCard,
  OpinionProblem,
  AxisProblem,
} from "../types";

// ---------------------------------------------------------------------------
// テーマ情報
// ---------------------------------------------------------------------------

export const theme: GDTheme = {
  id: "g1",
  name: "化学工場の安全",
  emoji: "🏭",
  categoryId: "industry",
  year: 2034,
};

// ---------------------------------------------------------------------------
// モード1：基礎知識カード（7枚）
// ---------------------------------------------------------------------------

export const knowledgeCards: KnowledgeCard[] = [
  // --- daily_impact × 2 ---
  {
    id: "g1_card1",
    themeId: "g1",
    front: "化学工場で事故が起きるとどんな影響がある？",
    back: "爆発や有毒ガスの漏洩で、工場の従業員だけでなく周辺住民にも被害が及ぶ。土壌や河川の汚染は何十年も残る。四日市ぜんそくのように公害病を引き起こした歴史もある",
    cardType: "daily_impact",
  },
  {
    id: "g1_card2",
    themeId: "g1",
    front: "化学工場の事故は私たちの生活にどう影響する？",
    back: "工場が止まると素材や製品の供給がストップし、日用品や医薬品が手に入りにくくなる。2011年の半導体工場の爆発では世界中の自動車生産に影響が出た",
    cardType: "daily_impact",
  },
  // --- number × 2 ---
  {
    id: "g1_card3",
    themeId: "g1",
    front: "日本で化学工場の事故は年間どれくらい起きている？",
    back: "高圧ガス関連の事故だけで年間約300〜400件。死亡事故は年間数件〜十数件。設備の老朽化が進む中、事故件数は横ばい〜微増傾向",
    cardType: "number",
  },
  {
    id: "g1_card4",
    themeId: "g1",
    front: "発熱反応の暴走はどれくらい危険？",
    back: "反応温度が10℃上がると反応速度は約2〜3倍になる（アレニウスの法則）。冷却が追いつかないと温度が急上昇し、数秒〜数分で爆発に至ることもある",
    cardType: "number",
  },
  // --- product × 2 ---
  {
    id: "g1_card5",
    themeId: "g1",
    front: "化学工場の安全を守る装置にはどんなものがある？",
    back: "安全弁（圧力が上がりすぎたら自動で逃がす）、緊急遮断弁、ガス検知器、防爆壁など。反応暴走を防ぐため、自動で冷却水を注入する制御システムも使われる",
    cardType: "product",
  },
  {
    id: "g1_card6",
    themeId: "g1",
    front: "化学プラントの安全管理で使われるリスク評価手法は？",
    back: "HAZOP（ハゾップ）が代表的。「もし温度が想定より高くなったら？」「流量がゼロになったら？」など、あらゆる異常を想定して対策を設計する。航空業界のフェイルセーフ思想と同じ発想",
    cardType: "product",
  },
  // --- comparison × 1 ---
  {
    id: "g1_card7",
    themeId: "g1",
    front: "ヒューマンエラーと設備故障、事故原因として多いのは？",
    back: "化学工場の事故原因の約60〜70%がヒューマンエラー（操作ミス・判断ミス・連絡不足）。設備故障は約20〜30%。どれだけ設備を整えても、人間の判断が最後の砦になる",
    cardType: "comparison",
  },
];

// ---------------------------------------------------------------------------
// モード2：意見トレーニング
// ---------------------------------------------------------------------------

export const opinionProblem: OpinionProblem = {
  id: "g1_opinion",
  themeId: "g1",
  question:
    "化学工場の事故を防ぐために、設備改善・人材教育・法規制のうち、最も重要なのはどれか。一つ選び、具体的な根拠を挙げて論じよ。",
  choices: ["設備改善", "人材教育", "法規制"],
  modelAnswers: {
    設備改善: {
      reason:
        "どれだけ優秀な人材がいても、老朽化した設備や設計上の欠陥がある状態では事故は防ぎきれない。安全装置やセンサーの自動化によって、人間がミスをしても事故に至らない「フェイルセーフ」の仕組みを作ることが最も確実な対策である。",
      example:
        "反応温度が設定値を超えたとき自動で冷却水を注入し、さらに一定温度以上で緊急停止するシステムを導入した工場では、暴走事故がゼロになった事例がある。日本の化学工場の約40%が建設から30年以上経過しており、配管の腐食や計器の劣化が事故の引き金になっている。",
      keyPhrase:
        "人間はミスをする生き物だからこそ、ミスしても安全な設備が必要です。",
      counterArguments: [
        {
          attack:
            "設備を最新にしても、使う人間がミスをしたら意味がないのでは？事故原因の60〜70%はヒューマンエラーだし。",
          defense:
            "たしかにヒューマンエラーは多いですが、だからこそ「人間がミスしても事故にならない設備」が重要なのです。飛行機も操縦ミスだけでは墜落しないよう、何重もの安全装置があります。人間の弱さを前提に設計するのが設備改善の本質です。",
        },
        {
          attack:
            "設備の更新には莫大なコストがかかる。中小の化学工場にはとても負担できないのでは？",
          defense:
            "たしかにコストは課題ですが、事故が一度起きれば被害額は設備投資の何十倍にもなります。2012年のある化学工場の爆発事故では損害額が数百億円に達しました。法規制で補助金や税制優遇と組み合わせれば、中小企業でも段階的に更新できます。",
        },
        {
          attack:
            "法律で安全基準を厳しくするほうが、業界全体のレベルを底上げできるのでは？",
          defense:
            "たしかに法規制は全体の底上げに有効ですが、法律は最低基準を決めるだけで、個々の工場に最適な安全設備の設計まではできません。法規制は「ここまではやれ」と線を引くもの、設備改善は「どこまでも安全にできる」もの。両者は補完関係にありますが、直接事故を止めるのは設備です。",
        },
      ],
    },
    人材教育: {
      reason:
        "化学工場の事故原因の約60〜70%はヒューマンエラーであり、いくら設備が優れていても操作する人間の判断力が低ければ事故は起きる。異常時にマニュアル通りに動けるか、想定外の事態に冷静に対応できるかは、日頃の訓練と教育がすべてを決める。",
      example:
        "ある化学メーカーでは、ベテラン技術者の退職に伴い経験の浅い作業者が増えた結果、操作ミスによる事故が3年間で2倍に増加した。一方、年間100時間以上の安全教育を実施している工場では、ヒューマンエラーによる事故を80%削減できたという報告もある。",
      keyPhrase:
        "最後に安全を守るのは、設備でも法律でもなく、現場にいる「人」の判断力です。",
      counterArguments: [
        {
          attack:
            "人間は必ずミスをする。教育で完璧にはできないからこそ、設備でカバーすべきでは？",
          defense:
            "たしかに人間はミスをしますが、設備の安全装置にも限界があります。想定外の複合的な異常が起きたとき、最終判断を下すのは人間です。チェルノブイリ原発事故も福島第一原発事故も、最終的には「人間の判断」が事態を左右しました。教育は完璧を目指すものではなく、判断力の底上げです。",
        },
        {
          attack:
            "ベテラン技術者が退職したら知識が失われる。教育だけでは技術の継承は難しいのでは？",
          defense:
            "たしかに暗黙知の継承は難しいですが、だからこそ体系的な教育プログラムが必要なのです。VRシミュレーションで事故体験をしたり、過去の事故事例をデータベース化して学ぶなど、経験を「仕組みとして」伝える方法は進化しています。教育の中身をアップデートし続けることが大切です。",
        },
        {
          attack:
            "法律で教育を義務化すれば済む話。人材教育よりも法規制のほうが上位の対策では？",
          defense:
            "たしかに法律で教育の義務化はできますが、「年間○時間の研修を実施せよ」と決めても、中身が形骸化していては意味がありません。教育の質は法律では規定しきれず、各現場の自主的な取り組みが不可欠です。法規制は枠組みであり、中身を動かすのは教育そのものです。",
        },
      ],
    },
    法規制: {
      reason:
        "設備改善も人材教育も、企業の自主性に任せていては取り組みにばらつきが出る。法律で安全基準を定めることで、業界全体の最低ラインを引き上げられる。特に中小企業やコスト削減を優先しがちな企業に対して、強制力をもって安全を担保できるのは法規制だけである。",
      example:
        "日本では1972年の労働安全衛生法の制定後、工場の労働災害死亡者数は年間約6000人から約800人へと大幅に減少した。EUのSEVESO指令（重大事故防止指令）は、域内のすべての化学工場に安全報告書の提出を義務づけ、事故率を30%低減させた。",
      keyPhrase:
        "自主的な努力には限界がある。全員に守らせるには、ルールの力が必要です。",
      counterArguments: [
        {
          attack:
            "法律は最低基準を決めるだけで、それを超える安全対策を促せないのでは？",
          defense:
            "たしかに法律は最低基準ですが、その基準を定期的に引き上げることで業界全体のレベルを段階的に上げられます。また認証制度や安全評価のランク付けを法律で定めれば、企業同士の競争が生まれ、基準以上の対策を自発的に取るインセンティブになります。",
        },
        {
          attack:
            "規制が厳しすぎると企業の負担が増え、海外に工場が移転してしまうのでは？",
          defense:
            "たしかに過剰な規制は企業負担になりますが、事故が起きたときの損害賠償・操業停止・信用失墜のコストのほうがはるかに大きいです。また安全基準の高い日本の化学製品は「品質が高い」と国際的に評価されており、規制の厳しさがブランド価値にもなっています。",
        },
        {
          attack:
            "現場の実態を知らない官僚が作る規制は、的外れになりがちでは？",
          defense:
            "たしかに現場乖離のリスクはありますが、日本の化学工場の安全規制は産業界との協議を経て策定されています。また事故調査報告書をもとに規制を改正する仕組みがあるので、現場のフィードバックは反映されます。完璧ではなくても、ルールがない状態よりはるかに安全です。",
        },
      ],
    },
  },
};

// ---------------------------------------------------------------------------
// モード3：軸発見トレーニング
// ---------------------------------------------------------------------------

export const axisProblem: AxisProblem = {
  id: "g1_axis",
  themeId: "g1",
  opinions: [
    {
      speaker: "Aさん",
      content:
        "センサーや自動停止装置をもっと増やすべきだと思う。人間は疲れたらミスをするけど、機械は24時間同じ精度で異常を検知できる。お金はかかるけど、命には代えられない。",
      tag: "設備の自動化",
    },
    {
      speaker: "Bさん",
      content:
        "一番大事なのは現場で働く人の教育だよ。事故の原因の6〜7割はヒューマンエラーなんだから、マニュアル通りに動ける訓練をもっとやるべき。VRで事故体験とかも効果ありそう。",
      tag: "人の訓練",
    },
    {
      speaker: "Cさん",
      content:
        "法律で安全基準をもっと厳しくするのが先だと思う。企業の自主性に任せていたら、コスト削減のために安全が後回しにされる。ルールがないと全体のレベルは上がらない。",
      tag: "法制度の強化",
    },
    {
      speaker: "Dさん",
      content:
        "古い工場の配管や設備を新しくするのが急務だと思う。日本の化学工場の4割が築30年以上。どれだけ教育しても、パイプが腐食して穴が開いたら防ぎようがない。",
      tag: "老朽化対策",
    },
  ],
  modelAxes: [
    {
      axisName: "ハード（モノ）で防ぐ vs ソフト（ヒト・制度）で防ぐ",
      group1: ["A", "D"],
      group2: ["B", "C"],
    },
    {
      axisName: "現場レベルの対策 vs 社会全体の仕組み",
      group1: ["A", "B"],
      group2: ["C", "D"],
    },
  ],
};
