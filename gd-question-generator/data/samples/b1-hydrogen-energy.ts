/**
 * サンプルデータ：b1 水素エネルギーの課題
 *
 * gd-data-builder スキルが生成すべき出力の模範例。
 * 次の開発セッションで「これと同じ品質・温度感で他テーマも生成して」と指示する用。
 */

// ---------------------------------------------------------------------------
// 型定義（将来 src/data/types/gd.ts に配置）
// ---------------------------------------------------------------------------

export interface GDTheme {
  id: string;
  name: string;
  emoji: string;
  categoryId: string;
  year: number;
}

export interface KnowledgeCard {
  id: string;
  themeId: string;
  front: string;
  back: string;
  cardType: "daily_impact" | "number" | "product" | "comparison";
}

export interface OpinionProblem {
  id: string;
  themeId: string;
  question: string;
  choices: string[];
  modelAnswers: Record<
    string,
    {
      reason: string;
      example: string;
      keyPhrase: string;
      counterArguments: Array<{
        attack: string;
        defense: string;
      }>;
    }
  >;
}

export interface AxisProblem {
  id: string;
  themeId: string;
  opinions: Array<{
    speaker: string;
    content: string;
    tag: string;
  }>;
  modelAxes: Array<{
    axisName: string;
    group1: string[];
    group2: string[];
  }>;
}

// ---------------------------------------------------------------------------
// テーマ情報
// ---------------------------------------------------------------------------

export const theme: GDTheme = {
  id: "b1",
  name: "水素エネルギーの課題",
  emoji: "💧",
  categoryId: "energy",
  year: 2026,
};

// ---------------------------------------------------------------------------
// モード1：基礎知識カード（7枚）
// ---------------------------------------------------------------------------

export const knowledgeCards: KnowledgeCard[] = [
  // --- daily_impact × 2 ---
  {
    id: "b1_card1",
    themeId: "b1",
    front: "水素が「究極のクリーンエネルギー」と呼ばれる理由は？",
    back: "燃やしても水しか出ない（2H₂ + O₂ → 2H₂O）。CO₂を一切排出しない。化学の教科書にも出てくる最もシンプルな燃焼反応",
    cardType: "daily_impact",
  },
  {
    id: "b1_card2",
    themeId: "b1",
    front: "水素エネルギーが普及しないと困ることは？",
    back: "化石燃料への依存が続き、CO₂排出を減らせない。再生可能エネルギーの余剰電力を貯める手段も失う。「作る→貯める→使う」のサイクルが回らない",
    cardType: "daily_impact",
  },
  // --- number × 2 ---
  {
    id: "b1_card3",
    themeId: "b1",
    front: "水素を液体にするには何℃まで冷やす？",
    back: "約−253℃（20K）。常温常圧では気体で、全元素で最も軽い。だから大量に運ぶのがとても難しい",
    cardType: "number",
  },
  {
    id: "b1_card4",
    themeId: "b1",
    front: "日本の水素ステーションは何箇所ある？",
    back: "約160箇所。ガソリンスタンド（約3万箇所）の0.5%程度。建設費は1箇所あたり約4〜5億円と高額",
    cardType: "number",
  },
  // --- product × 2 ---
  {
    id: "b1_card5",
    themeId: "b1",
    front: "水素で走る自動車の例は？",
    back: "トヨタMIRAI（燃料電池車）。水素タンクに700気圧で水素を貯め、燃料電池で発電してモーターを回す。排出するのは水だけ",
    cardType: "product",
  },
  {
    id: "b1_card6",
    themeId: "b1",
    front: "水素を大量に作る方法で最も多いのは？",
    back: "天然ガス（メタンCH₄）の水蒸気改質。世界の水素の約95%がこの方法。ただしCO₂も出る。水の電気分解なら再エネ電力でCO₂フリーになる",
    cardType: "product",
  },
  // --- comparison × 1 ---
  {
    id: "b1_card7",
    themeId: "b1",
    front: "「グリーン水素」と「グレー水素」の違いは？",
    back: "グリーン水素：再エネ電力で水を電気分解。CO₂ゼロだがコスト高。グレー水素：天然ガスから製造。安いがCO₂が出る。現在流通する水素の大半はグレー",
    cardType: "comparison",
  },
];

// ---------------------------------------------------------------------------
// モード2：意見トレーニング
// ---------------------------------------------------------------------------

export const opinionProblem: OpinionProblem = {
  id: "b1_opinion",
  themeId: "b1",
  question:
    "水素エネルギーの普及において、製造・貯蔵・利用のうち、最も大きな課題はどれか。一つ選び、具体的な根拠を挙げて論じよ。",
  choices: ["製造", "貯蔵", "利用"],
  modelAnswers: {
    製造: {
      reason:
        "現在の水素の約95%は天然ガスから作られており、製造時にCO₂が発生する。水の電気分解ならCO₂フリーだが、大量の再生可能エネルギー電力が必要。つまり「クリーンな水素を安く大量に作る」ことが最も根本的な課題である。",
      example:
        "グリーン水素の製造コストは1kgあたり約500〜1000円で、グレー水素（約150円）の3〜7倍。日本政府は2030年に1kgあたり330円を目標にしているが、達成には太陽光や風力発電の大幅なコスト低下が必要。",
      keyPhrase:
        "作り方を間違えれば、水素社会はCO₂削減どころか逆行してしまいます。",
      counterArguments: [
        {
          attack:
            "製造コストは技術革新で下がるはず。それより、すでに水素は軽すぎて運べない物理的制約のほうが根本的では？",
          defense:
            "たしかに貯蔵・輸送は難しいですが、アンモニア（NH₃）に変換して運ぶ技術が進んでいます。一方、製造の問題は「再エネ電力そのものが足りない」という電力インフラ全体の問題に直結するので、簡単にはスケールしません。",
        },
        {
          attack:
            "水素ステーションが少ないことのほうが消費者にとって身近な問題では？",
          defense:
            "たしかに利用側のインフラ不足は深刻ですが、仮にステーションが増えても、そこに供給するクリーンな水素が足りなければ意味がありません。製造が「入口」であり、ここがボトルネックだと全体が詰まります。",
        },
        {
          attack:
            "そもそも水の電気分解は高校の教科書にもある基本技術。技術的にはもう確立されているのでは？",
          defense:
            "原理は単純ですが、問題はスケールとコストです。日本全体のエネルギーを水素でまかなうには莫大な電力が必要で、現在の再エネ発電量では全く足りません。「できる」と「安く大量にできる」の差は非常に大きいです。",
        },
      ],
    },
    貯蔵: {
      reason:
        "水素は全元素で最も軽い気体であり、常温常圧では密度が極めて小さい。大量に貯蔵・輸送するには超高圧（700気圧）か超低温（−253℃）が必要で、これは水素の物質としての本質的な性質に由来する課題。技術だけでは根本的に解決しにくい。",
      example:
        "トヨタMIRAIの水素タンクは700気圧の超高圧仕様で、タンクだけで数十万円。液化水素の輸送船（川崎重工が開発）は−253℃を維持する断熱技術が必要で、LNG船より格段にコストが高い。",
      keyPhrase:
        "物質の本質的な性質に由来する課題は、技術だけでは簡単に解決できません。",
      counterArguments: [
        {
          attack:
            "アンモニアに変換して運ぶ方法があるし、高圧タンクの技術も進歩している。貯蔵の問題は解決可能では？",
          defense:
            "たしかにアンモニア輸送は有望ですが、NH₃への変換と再分解にエネルギーロスがあり、効率は大きく下がります。また高圧タンクは炭素繊維を大量に使い、1基数十万円。「できるけど高い」が貯蔵の本質的な問題です。",
        },
        {
          attack:
            "そもそもクリーンな水素が大量に製造できなければ、貯蔵技術があっても意味がないのでは？",
          defense:
            "たしかに製造も重要ですが、仮にグリーン水素が安くなっても「運べない・貯められない」なら消費地に届きません。オーストラリアで太陽光から水素を作っても、日本に持ってくるコストが高ければ使えません。",
        },
        {
          attack:
            "水素ステーションの数が少ないほうが、消費者にとっては切実な問題では？",
          defense:
            "水素ステーションが少ないのは、建設費が1箇所4〜5億円と高い「から」です。そしてそのコストの多くは高圧設備や安全対策、つまり貯蔵技術に起因します。利用の問題の根っこには貯蔵の問題があるのです。",
        },
      ],
    },
    利用: {
      reason:
        "いくら水素を安く作って効率的に運べても、消費者が使えるインフラがなければ普及しない。水素ステーションの圧倒的な少なさは、ガソリン車と比較して利便性が大きく劣り、一般消費者の選択肢に入らない。社会実装のラストマイルが最大の壁。",
      example:
        "日本の水素ステーションは約160箇所。ガソリンスタンド約3万箇所の0.5%。建設費は1箇所4〜5億円で、ガソリンスタンドの10倍以上。トヨタMIRAIは約700万円で、同クラスのガソリン車の2倍以上。",
      keyPhrase:
        "技術がどれだけ進んでも、消費者の手が届かなければ社会は変わりません。",
      counterArguments: [
        {
          attack:
            "インフラは需要が生まれれば後からついてくる。EVの充電スタンドも最初は少なかった。",
          defense:
            "たしかにEVはそうでしたが、EVは家庭のコンセントでも充電できるという「利用のハードル」の低さがありました。水素は専用ステーション以外では補充できず、この差は大きいです。鶏と卵の問題が、EVよりはるかに深刻です。",
        },
        {
          attack:
            "クリーンな水素が安く大量に製造できないことのほうが根本的な問題では？",
          defense:
            "たしかに製造コストは重要ですが、仮にグリーン水素が安くなっても、水素ステーションがなければ誰も使いません。ガソリンが安くてもスタンドがない地域では車は走れない。使える場所がないという問題は消費者の行動を直接止めます。",
        },
        {
          attack:
            "利用の問題は「お金を投資すれば解決できる」もの。物理法則に逆らう貯蔵のほうが難しいのでは？",
          defense:
            "投資すれば解決できるのは事実ですが、問題は「誰が投資するか」です。水素ステーション1箇所4〜5億円で、現状ほぼ赤字経営。民間企業にとってリスクが大きすぎ、政府補助なしには広がりません。技術より経済のほうが動かしにくいこともあります。",
        },
      ],
    },
  },
};

// ---------------------------------------------------------------------------
// モード3：軸発見トレーニング
// ---------------------------------------------------------------------------

export const axisProblem: AxisProblem = {
  id: "b1_axis",
  themeId: "b1",
  opinions: [
    {
      speaker: "Aさん",
      content:
        "水素エネルギーの一番の問題は、クリーンに作る方法がまだ高すぎることだと思う。再エネの電気で水を分解すればCO₂は出ないけど、コストが化石燃料の何倍もかかる。",
      tag: "製造コスト",
    },
    {
      speaker: "Bさん",
      content:
        "私は水素ステーションが少なすぎることが問題だと思う。いくら水素が良くても、近くに補充できる場所がなければ誰も水素の車を買わない。消費者目線で考えるべき。",
      tag: "インフラ不足",
    },
    {
      speaker: "Cさん",
      content:
        "水素は軽すぎて運ぶのが大変という物理的な問題がある。700気圧のタンクとか−253℃の液化とか、元素の性質そのものが壁になっている。これは技術が進んでも変わらない。",
      tag: "物理的制約",
    },
    {
      speaker: "Dさん",
      content:
        "一番大事なのは、水素を使う機器の値段を下げることだと思う。トヨタMIRAIは700万円もする。普通の車の2倍以上。これじゃ一般の人は買えない。",
      tag: "価格障壁",
    },
  ],
  modelAxes: [
    {
      axisName: "供給側の課題 vs 需要側の課題",
      group1: ["A", "C"],
      group2: ["B", "D"],
    },
    {
      axisName: "技術で解決できる vs お金で解決できる",
      group1: ["A", "D"],
      group2: ["B", "C"],
    },
  ],
};
